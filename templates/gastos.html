<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Registrar Gasto</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h2>Registrar Gasto</h2>
    <form action="/registrar_gasto" method="POST">
        <label>Tipo de Gasto:</label>
        <select name="tipo_gasto" required>
            <option value="variable">Variable</option>
            <option value="fijo">Fijo</option>
        </select><br>

        <label>Descripción:</label>
        <input type="text" name="descripcion" required><br>

        <label>Cantidad:</label>
        <input type="number" name="cantidad" id="cantidad" min="1" required><br>

        <label>Valor Unitario:</label>
        <input type="number" name="valor_unitario" id="valor_unitario" min="0" step="0.01" required><br>

        <div id="total_gasto" style="margin-top: 10px; font-weight: bold;"></div>

        <button type="submit">Registrar Gasto</button>
    </form>

    <br>
    <button onclick="location.href='/'">⬅️ Volver al menú</button>

    <script>
        function actualizarTotalGasto() {
            const cantidad = parseFloat(document.getElementById('cantidad').value) || 0;
            const valorUnitario = parseFloat(document.getElementById('valor_unitario').value) || 0;
            const total = cantidad * valorUnitario;
            document.getElementById('total_gasto').textContent = `Total del gasto: $${total.toLocaleString()}`;
        }

        document.getElementById('cantidad').addEventListener('input', actualizarTotalGasto);
        document.getElementById('valor_unitario').addEventListener('input', actualizarTotalGasto);
    </script>
</body>
</html>
